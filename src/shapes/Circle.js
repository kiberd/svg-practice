import React, { useState, useRef, useEffect } from "react";
import { animated, useSpring } from "react-spring";

const circleArry = [
	"M1084,313c0,2.26,0,4.52,0,6.77,0,.42.62.82,1,1.23v3.78c5.46.73,10.27,3.29,14.66,6.49,3.81,2.78,5.65,7.1,7.35,11.4,1.29,3.27,1.21,6.72.9,10.07a19.37,19.37,0,0,1-2,7.61,42.25,42.25,0,0,1-6.61,8.73c-2.52,2.56-6,3.84-9.41,4.92-8.34,2.63-16.39.39-23.1-4.88-3.87-3-6.31-7.39-7.78-12.21-2.58-8.44-.41-16.37,4.87-23.1,3-3.87,7.53-6.16,12.2-7.78,1.76-.61,3.64-.88,5.94-1.41a40.81,40.81,0,0,0,0-4.53,31.07,31.07,0,0,0-1-4.09c.33-.42,1-.87,1-1.26C1081.78,313.05,1082.68,312.82,1084,313Z",
	"M890,319a3.52,3.52,0,0,0,1.91-3.36c.11-2,2.32-2,2.74-3.49.12.12.28.22.34.36a1.33,1.33,0,0,1,0,.49q-1.41,4.65-2.81,9.31c-.51,1.67-.26,2.19,1.68,3,.7.31,1.51.37,2.22.66,6,2.41,11.81,5.65,14.8,11.75,2.86,5.83,4.51,12.06,2.16,18.76-2.26,6.47-5.64,12.2-11.72,15.35-6.25,3.25-13.09,4.61-20.11,1.86-3.2-1.26-6.38-2.56-8.92-5a27.91,27.91,0,0,1-8.13-14.56,20,20,0,0,1,1-11.93c3-7.07,4.4-9.33,11-13.39a27.85,27.85,0,0,1,12.37-4A8.18,8.18,0,0,0,890,319Z",
	"M1472,314c0,2.83,0,5.66,0,8.48a2.52,2.52,0,0,0,1.88,2.5,9.65,9.65,0,0,0,2.24.61c4.29.68,7.77,3.13,11.19,5.47,4.06,2.77,6.18,7.13,7.66,11.65,2.48,7.56.84,14.58-3.33,21.21a21.84,21.84,0,0,1-9.42,8.41c-4.73,2.24-9.84,3.73-14.81,2.49-5.93-1.46-12.32-3-15.45-9.38-3.74-2.57-4.4-6.87-5.49-10.68a22.63,22.63,0,0,1-.28-9.28c.36-2.51,1.71-4.92,2.87-7.25a19.07,19.07,0,0,1,3.4-5.05,33.43,33.43,0,0,1,5.73-4.16,28.79,28.79,0,0,1,11.81-4.37c.26-3-2.1-5.07-3-7.65.9-1.09,3.16-.52,3.26-2.68A7.66,7.66,0,0,1,1472,314Z",
];

const Circle = ({ color, init, rest, data }) => {
	const shapeRef = useRef(null);

	const animationFillStyle = useSpring({
		from: { fillColor: "#b8b8c6" },
		to: { fillColor: color },
		config: { duration: 1000 },
		delay: 3500,
		reset: init,
	});

	// useEffect(() => {
	// 	if (rest && shapeRef && shapeRef.current) {
    //         setTimeout(() => {
    //             shapeRef.current.setAttribute("fill", "#b8b8c6");
    //         }, 3000);
	// 	}
	// }, [rest, shapeRef]);

    // useEffect(() => {
    //     if ( (init || data) && shapeRef && shapeRef.current) {
    //         shapeRef.current.setAttribute("fill", "#b8b8c6");
	// 	}
    // } ,[init, data, shapeRef]);

	return (
		<>
			<animated.rect
				ref={shapeRef}
				fill={animationFillStyle.fillColor}
				// id="사각형_108"
				// data-name="사각형 108"
                id={data.id}
				data-name={data.id}
				width="25"
				height="25"
				rx="12.5"
				// transform="translate(1462 2563.501)"
                transform={data.transform}
			/>
		</>
	);
};

export default Circle;
